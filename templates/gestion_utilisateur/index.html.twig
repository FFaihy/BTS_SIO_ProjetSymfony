{% extends 'baseAdmin.html.twig' %}

{% block title %} GestionUtilisateur {% endblock %}

{% block titrePage %}

    Gérer les Utilisateurs

{% endblock %}

{% block body %}
    <br>
    <h2 style="text-align: center">Liste des Administrateurs</h2>
    <Table class="table" align="center" style="margin: auto;width: 80%;">
        <thead class="thead-dark">
        <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Email</th>
        </tr>
        </thead>
        {% for utilisateur in utilisateurs %}
            {% if (utilisateur.role == ["ROLE_ADMINISTRATEUR"]) %}
                <tr>
                    <td>{{ utilisateur.id }}</td>
                    <td>{{ utilisateur.nom }}</td>
                    <td>{{ utilisateur.prenom }}</td>
                    <td>{{ utilisateur.email }}</td>
                </tr>
            {% endif %}
        {% endfor %}
    </Table>
    <br><br>
    <h2 style="text-align: center">Liste des Rédacteurs</h2>
   <Table class="table" align="center" style="margin: auto;width: 80%;">
       <thead class="thead-dark">
       <tr>
           <th>Id</th>
           <th>Nom</th>
           <th>Prénom</th>
           <th>Email</th>
           <th></th>
           <th></th>
           <th></th>
       </tr>
       </thead>
       {% for utilisateur in utilisateurs %}
           {% if (utilisateur.role == ["ROLE_REDACTEUR"]) %}
           <tr>
               <td>{{ utilisateur.id }}</td>
               <td>{{ utilisateur.nom }}</td>
               <td>{{ utilisateur.prenom }}</td>
               <td>{{ utilisateur.email }}</td>
               <td><a class="btn btn-secondary" href="{{ path('modifier_utilisateur',{'id': utilisateur.id}) }}">Modifer MDP</a></td>
               <td><a class="btn btn-secondary" href="{{ path('revoquer',{'id': utilisateur.id}) }}">Révoqué</a></td>
               <td><a class="btn btn-secondary" href="{{ path('supprimer',{'id': utilisateur.id}) }}">Supprimer</a></td>
           </tr>
           {% endif %}
       {% endfor %}
       <td><a href="{{ path('ajouter') }}"><button type="button" class="btn btn-light">Ajouter</button></a></td>
   </Table>
    <br><br>
    <h2 style="text-align: center">Liste des Utilisateurs</h2>
    <Table class="table" align="center" style="margin: auto;width: 80%;">
        <thead class="thead-dark">
        <tr>
            <th>Id</th>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Email</th>
            <th></th>
        </tr>
        </thead>
        {% for utilisateur in utilisateurs %}
            {% if utilisateur.role == ["ROLE_UTILISATEUR"] %}
                <tr>
                    <td>{{ utilisateur.id }}</td>
                    <td>{{ utilisateur.nom }}</td>
                    <td>{{ utilisateur.prenom }}</td>
                    <td>{{ utilisateur.email }}</td>
                    <td><a href="{{ path('supprimer',{'id': utilisateur.id}) }}"><button type="button" class="btn btn-secondary">Supprimer</button></a></td>
                </tr>
            {% endif %}
        {% endfor %}
    </Table>
{% endblock%}